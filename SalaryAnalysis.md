107-2 大數據分析方法 作業一
================
put your name here

搞不清楚各行各業的薪資差異嗎? 念研究所到底對第一份工作的薪資影響有多大? CP值高嗎? 透過分析**初任人員平均經常性薪資**- [開放資料連結](https://data.gov.tw/dataset/6647)，可初步了解台灣近幾年各行各業、各學歷的起薪。

比較103年度和106年度大學畢業者的薪資資料
----------------------------------------

### 資料匯入與處理

``` r
library(readr)
```

    ## Warning: package 'readr' was built under R version 3.5.3

``` r
library(dplyr)
```

    ## Warning: package 'dplyr' was built under R version 3.5.3

    ## 
    ## Attaching package: 'dplyr'

    ## The following objects are masked from 'package:stats':
    ## 
    ##     filter, lag

    ## The following objects are masked from 'package:base':
    ## 
    ##     intersect, setdiff, setequal, union

``` r
aaa103 <- read_csv("C:/Users/User/Desktop/bigdata/103aaa.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   年度 = col_double(),
    ##   大職業別 = col_character(),
    ##   `經常性薪資-薪資` = col_double(),
    ##   `經常性薪資-女/男` = col_double(),
    ##   `國中及以下-薪資` = col_character(),
    ##   `國中及以下-女/男` = col_character(),
    ##   `高中或高職-薪資` = col_character(),
    ##   `高中或高職-女/男` = col_character(),
    ##   `專科-薪資` = col_character(),
    ##   `專科-女/男` = col_character(),
    ##   `大學-薪資` = col_character(),
    ##   `大學-女/男` = col_character(),
    ##   `研究所及以上-薪資` = col_character(),
    ##   `研究所及以上-女/男` = col_character()
    ## )

``` r
aaa104 <- read_csv("C:/Users/User/Desktop/bigdata/104aaa.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   年度 = col_double(),
    ##   大職業別 = col_character(),
    ##   `經常性薪資-薪資` = col_double(),
    ##   `經常性薪資-女/男` = col_character(),
    ##   `國中及以下-薪資` = col_character(),
    ##   `國中及以下-女/男` = col_character(),
    ##   `高中或高職-薪資` = col_character(),
    ##   `高中或高職-女/男` = col_character(),
    ##   `專科-薪資` = col_character(),
    ##   `專科-女/男` = col_character(),
    ##   `大學-薪資` = col_character(),
    ##   `大學-女/男` = col_character(),
    ##   `研究所及以上-薪資` = col_character(),
    ##   `研究所及以上-女/男` = col_character()
    ## )

``` r
aaa105 <- read_csv("C:/Users/User/Desktop/bigdata/105aaa.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   年度 = col_double(),
    ##   大職業別 = col_character(),
    ##   `經常性薪資-薪資` = col_double(),
    ##   `經常性薪資-女/男` = col_character(),
    ##   `國中及以下-薪資` = col_character(),
    ##   `國中及以下-女/男` = col_character(),
    ##   `高中或高職-薪資` = col_character(),
    ##   `高中或高職-女/男` = col_character(),
    ##   `專科-薪資` = col_character(),
    ##   `專科-女/男` = col_character(),
    ##   `大學-薪資` = col_character(),
    ##   `大學-女/男` = col_character(),
    ##   `研究所及以上-薪資` = col_character(),
    ##   `研究所及以上-女/男` = col_character()
    ## )

``` r
aaa106 <- read_csv("C:/Users/User/Desktop/bigdata/106aaa.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   年度 = col_double(),
    ##   大職業別 = col_character(),
    ##   `經常性薪資-薪資` = col_double(),
    ##   `經常性薪資-女/男` = col_character(),
    ##   `國中及以下-薪資` = col_character(),
    ##   `國中及以下-女/男` = col_character(),
    ##   `高中或高職-薪資` = col_character(),
    ##   `高中或高職-女/男` = col_character(),
    ##   `專科-薪資` = col_character(),
    ##   `專科-女/男` = col_character(),
    ##   `大學-薪資` = col_character(),
    ##   `大學-女/男` = col_character(),
    ##   `研究所及以上-薪資` = col_character(),
    ##   `研究所及以上-女/男` = col_character()
    ## )

``` r
aaa103<-aaa103[,c(-1,-5,-6,-7,-8,-9,-10)]#刪除不要的欄位
aaa104<-aaa104[,c(-1,-5,-6,-7,-8,-9,-10)]
aaa105<-aaa105[,c(-1,-5,-6,-7,-8,-9,-10)]
aaa106<-aaa106[,c(-1,-5,-6,-7,-8,-9,-10)]
for(i in c(1:7)){#把第1到7欄位的vector分別取出來
  aaa103[[i]]<-gsub("—|…","",aaa103[[i]])#把—和…取代成空字串
}
for(i in c(1:7)){
  aaa104[[i]]<-gsub("—|…","",aaa104[[i]])
}
for(i in c(1:7)){
  aaa105[[i]]<-gsub("—|…","",aaa105[[i]])
}
for(i in c(1:7)){
  aaa106[[i]]<-gsub("—|…","",aaa106[[i]])
}
```

### 106年度薪資較103年度薪資高的職業有哪些?

``` r
a103106<-inner_join(aaa103,aaa106,by="大職業別")#用inner_join合併兩資料框
a103106$兩年度薪資比例<-
  as.numeric(a103106$`大學-薪資.y`)/as.numeric(a103106$`大學-薪資.x`)#新增兩年度薪資比的欄位
a103106<-arrange(a103106,desc(兩年度薪資比例))#照大到小排序
b103106<-a103106[a103106$兩年度薪資比例>1,]#106年比103年大的
b103106<-na.omit(b103106)#刪除空紀錄
b103106$大職業別#職業名稱
```

    ##  [1] "其他服務業-技術員及助理專業人員"          
    ##  [2] "住宿及餐飲業-服務及銷售工作人員"          
    ##  [3] "用水供應及污染整治業-技術員及助理專業人員"
    ##  [4] "營造業-服務及銷售工作人員"                
    ##  [5] "其他服務業-專業人員"                      
    ##  [6] "資訊及通訊傳播業-專業人員"                
    ##  [7] "不動產業-專業人員"                        
    ##  [8] "教育服務業-事務支援人員"                  
    ##  [9] "住宿及餐飲業-技術員及助理專業人員"        
    ## [10] "其他服務業-事務支援人員"                  
    ## [11] "教育服務業-服務及銷售工作人員"            
    ## [12] "用水供應及污染整治業"                     
    ## [13] "用水供應及污染整治業-專業人員"            
    ## [14] "資訊及通訊傳播業"                         
    ## [15] "支援服務業-服務及銷售工作人員"            
    ## [16] "資訊及通訊傳播業-事務支援人員"            
    ## [17] "教育服務業"                               
    ## [18] "營造業-專業人員"                          
    ## [19] "住宿及餐飲業"                             
    ## [20] "電力及燃氣供應業-服務及銷售工作人員"      
    ## [21] "運輸及倉儲業-技術員及助理專業人員"        
    ## [22] "運輸及倉儲業-事務支援人員"                
    ## [23] "醫療保健服務業-技術員及助理專業人員"      
    ## [24] "支援服務業-技術員及助理專業人員"          
    ## [25] "用水供應及污染整治業-服務及銷售工作人員"  
    ## [26] "教育服務業-技術員及助理專業人員"          
    ## [27] "服務業部門-專業人員"                      
    ## [28] "運輸及倉儲業"                             
    ## [29] "資訊及通訊傳播業-技術員及助理專業人員"    
    ## [30] "用水供應及污染整治業-事務支援人員"        
    ## [31] "金融及保險業-事務支援人員"                
    ## [32] "服務業部門-技術員及助理專業人員"          
    ## [33] "營造業-事務支援人員"                      
    ## [34] "工業及服務業部門-專業人員"                
    ## [35] "服務業部門-事務支援人員"                  
    ## [36] "教育服務業-專業人員"                      
    ## [37] "服務業部門"                               
    ## [38] "其他服務業"                               
    ## [39] "製造業-專業人員"                          
    ## [40] "工業部門-專業人員"                        
    ## [41] "資訊及通訊傳播業-服務及銷售工作人員"      
    ## [42] "支援服務業"                               
    ## [43] "營造業"                                   
    ## [44] "支援服務業-專業人員"                      
    ## [45] "工業及服務業部門-技術員及助理專業人員"    
    ## [46] "工業及服務業部門"                         
    ## [47] "服務業部門-服務及銷售工作人員"            
    ## [48] "批發及零售業-技術員及助理專業人員"        
    ## [49] "工業及服務業部門-事務支援人員"            
    ## [50] "批發及零售業-專業人員"                    
    ## [51] "支援服務業-事務支援人員"                  
    ## [52] "批發及零售業-事務支援人員"                
    ## [53] "醫療保健服務業-事務支援人員"              
    ## [54] "工業部門"                                 
    ## [55] "製造業"                                   
    ## [56] "批發及零售業"                             
    ## [57] "工業部門-技術員及助理專業人員"            
    ## [58] "製造業-技術員及助理專業人員"              
    ## [59] "住宿及餐飲業-事務支援人員"                
    ## [60] "金融及保險業-技術員及助理專業人員"        
    ## [61] "運輸及倉儲業-服務及銷售工作人員"          
    ## [62] "工業部門-服務及銷售工作人員"              
    ## [63] "醫療保健服務業"                           
    ## [64] "工業部門-事務支援人員"                    
    ## [65] "工業及服務業部門-服務及銷售工作人員"      
    ## [66] "製造業-事務支援人員"                      
    ## [67] "金融及保險業"                             
    ## [68] "製造業-服務及銷售工作人員"                
    ## [69] "營造業-技術員及助理專業人員"              
    ## [70] "住宿及餐飲業-專業人員"                    
    ## [71] "醫療保健服務業-服務及銷售工作人員"        
    ## [72] "金融及保險業-服務及銷售工作人員"          
    ## [73] "運輸及倉儲業-專業人員"                    
    ## [74] "批發及零售業-服務及銷售工作人員"          
    ## [75] "醫療保健服務業-專業人員"                  
    ## [76] "礦業及土石採取業-專業人員"                
    ## [77] "金融及保險業-專業人員"

``` r
head(b103106$大職業別,10)#職業名稱(前10個)
```

    ##  [1] "其他服務業-技術員及助理專業人員"          
    ##  [2] "住宿及餐飲業-服務及銷售工作人員"          
    ##  [3] "用水供應及污染整治業-技術員及助理專業人員"
    ##  [4] "營造業-服務及銷售工作人員"                
    ##  [5] "其他服務業-專業人員"                      
    ##  [6] "資訊及通訊傳播業-專業人員"                
    ##  [7] "不動產業-專業人員"                        
    ##  [8] "教育服務業-事務支援人員"                  
    ##  [9] "住宿及餐飲業-技術員及助理專業人員"        
    ## [10] "其他服務業-事務支援人員"

### 提高超過5%的的職業有哪些?

``` r
c103106<-a103106[a103106$兩年度薪資比例>1.05,]
c103106<-na.omit(c103106)
c103106$大職業別
```

    ##  [1] "其他服務業-技術員及助理專業人員"          
    ##  [2] "住宿及餐飲業-服務及銷售工作人員"          
    ##  [3] "用水供應及污染整治業-技術員及助理專業人員"
    ##  [4] "營造業-服務及銷售工作人員"                
    ##  [5] "其他服務業-專業人員"                      
    ##  [6] "資訊及通訊傳播業-專業人員"                
    ##  [7] "不動產業-專業人員"                        
    ##  [8] "教育服務業-事務支援人員"                  
    ##  [9] "住宿及餐飲業-技術員及助理專業人員"        
    ## [10] "其他服務業-事務支援人員"                  
    ## [11] "教育服務業-服務及銷售工作人員"            
    ## [12] "用水供應及污染整治業"                     
    ## [13] "用水供應及污染整治業-專業人員"            
    ## [14] "資訊及通訊傳播業"                         
    ## [15] "支援服務業-服務及銷售工作人員"            
    ## [16] "資訊及通訊傳播業-事務支援人員"            
    ## [17] "教育服務業"                               
    ## [18] "營造業-專業人員"                          
    ## [19] "住宿及餐飲業"                             
    ## [20] "電力及燃氣供應業-服務及銷售工作人員"      
    ## [21] "運輸及倉儲業-技術員及助理專業人員"        
    ## [22] "運輸及倉儲業-事務支援人員"                
    ## [23] "醫療保健服務業-技術員及助理專業人員"      
    ## [24] "支援服務業-技術員及助理專業人員"          
    ## [25] "用水供應及污染整治業-服務及銷售工作人員"  
    ## [26] "教育服務業-技術員及助理專業人員"          
    ## [27] "服務業部門-專業人員"                      
    ## [28] "運輸及倉儲業"                             
    ## [29] "資訊及通訊傳播業-技術員及助理專業人員"    
    ## [30] "用水供應及污染整治業-事務支援人員"        
    ## [31] "金融及保險業-事務支援人員"                
    ## [32] "服務業部門-技術員及助理專業人員"          
    ## [33] "營造業-事務支援人員"                      
    ## [34] "工業及服務業部門-專業人員"                
    ## [35] "服務業部門-事務支援人員"                  
    ## [36] "教育服務業-專業人員"                      
    ## [37] "服務業部門"                               
    ## [38] "其他服務業"                               
    ## [39] "製造業-專業人員"                          
    ## [40] "工業部門-專業人員"                        
    ## [41] "資訊及通訊傳播業-服務及銷售工作人員"

### 主要的職業種別是哪些種類呢?

``` r
career<-c(1)
for(i in c(1:41)){
  career<-c(career,strsplit(c103106$大職業別,"-")[[i]][1])
}
career<-career[-1]
table(career)
```

    ## career
    ##     工業及服務業部門             工業部門             不動產業 
    ##                    1                    1                    1 
    ##           支援服務業 用水供應及污染整治業         住宿及餐飲業 
    ##                    2                    5                    3 
    ##           其他服務業           服務業部門         金融及保險業 
    ##                    4                    4                    1 
    ##           教育服務業     資訊及通訊傳播業         運輸及倉儲業 
    ##                    5                    5                    3 
    ##     電力及燃氣供應業               製造業               營造業 
    ##                    1                    1                    3 
    ##       醫療保健服務業 
    ##                    1

男女同工不同酬現況分析
----------------------

男女同工不同酬一直是性別平等中很重要的問題，分析資料來源為103到106年度的大學畢業薪資。

### 103到106年度的大學畢業薪資資料，哪些行業男生薪資比女生薪資多?

``` r
aaa103$`大學-女/男`<-as.numeric(aaa103$`大學-女/男`)#轉成數字型態
aaa103<-na.omit(aaa103)#刪除空紀錄
ratio103<-aaa103[aaa103$`大學-女/男`<100,]#大學-女/男=98 代表 女:男=98:100,男生薪資大於女生2
ratio103<-arrange(ratio103,`大學-女/男`)#照小到大排列,愈小表男生薪資比女生薪資大愈多
head(ratio103$大職業別,10)#列出前10個
```

    ##  [1] "礦業及土石採取業-技藝、機械設備操作及組裝人員"      
    ##  [2] "教育服務業-技藝、機械設備操作及組裝人員"            
    ##  [3] "其他服務業-技術員及助理專業人員"                    
    ##  [4] "電力及燃氣供應業-技藝、機械設備操作及組裝人員"      
    ##  [5] "礦業及土石採取業-服務及銷售工作人員"                
    ##  [6] "營造業"                                             
    ##  [7] "教育服務業-事務支援人員"                            
    ##  [8] "教育服務業"                                         
    ##  [9] "藝術、娛樂及休閒服務業-技藝、機械設備操作及組裝人員"
    ## [10] "其他服務業"

``` r
aaa104$`大學-女/男`<-as.numeric(aaa104$`大學-女/男`)
aaa104<-na.omit(aaa104)
ratio104<-aaa104[aaa104$`大學-女/男`<100,]
ratio104<-arrange(ratio104,`大學-女/男`)
head(ratio104$大職業別,10)
```

    ##  [1] "電力及燃氣供應業-技藝、機械設備操作及組裝人員"    
    ##  [2] "教育服務業-服務及銷售工作人員"                    
    ##  [3] "礦業及土石採取業-技術員及助理專業人員"            
    ##  [4] "礦業及土石採取業-技藝、機械設備操作及組裝人員"    
    ##  [5] "礦業及土石採取業"                                 
    ##  [6] "其他服務業-事務支援人員"                          
    ##  [7] "營造業-技藝、機械設備操作及組裝人員"              
    ##  [8] "用水供應及污染整治業-技藝、機械設備操作及組裝人員"
    ##  [9] "營造業"                                           
    ## [10] "教育服務業"

``` r
aaa105$`大學-女/男`<-as.numeric(aaa105$`大學-女/男`)
aaa105<-na.omit(aaa105)
ratio105<-aaa103[aaa105$`大學-女/男`<100,]
```

    ## Warning: Length of logical index must be 1 or 119, not 117

``` r
ratio105<-arrange(ratio105,`大學-女/男`)
head(ratio105$大職業別,10)
```

    ##  [1] "礦業及土石採取業-技藝、機械設備操作及組裝人員"      
    ##  [2] "教育服務業-技藝、機械設備操作及組裝人員"            
    ##  [3] "其他服務業-技術員及助理專業人員"                    
    ##  [4] "電力及燃氣供應業-技藝、機械設備操作及組裝人員"      
    ##  [5] "營造業"                                             
    ##  [6] "教育服務業"                                         
    ##  [7] "藝術、娛樂及休閒服務業-技藝、機械設備操作及組裝人員"
    ##  [8] "其他服務業"                                         
    ##  [9] "礦業及土石採取業"                                   
    ## [10] "營造業-專業人員"

``` r
aaa106$`大學-女/男`<-as.numeric(aaa106$`大學-女/男`)
aaa106<-na.omit(aaa106)
ratio106<-aaa106[aaa106$`大學-女/男`<100,]
ratio106<-arrange(ratio106,`大學-女/男`)
head(ratio106$大職業別,10)
```

    ##  [1] "電力及燃氣供應業-技藝_機械設備操作及組裝人員"
    ##  [2] "營造業-服務及銷售工作人員"                   
    ##  [3] "其他服務業-事務支援人員"                     
    ##  [4] "電力及燃氣供應業-技術員及助理專業人員"       
    ##  [5] "其他服務業"                                  
    ##  [6] "住宿及餐飲業-技藝_機械設備操作及組裝人員"    
    ##  [7] "營造業"                                      
    ##  [8] "教育服務業-專業人員"                         
    ##  [9] "運輸及倉儲業-事務支援人員"                   
    ## [10] "其他服務業-技術員及助理專業人員"

### 哪些行業女生薪資比男生薪資多?

``` r
ccc103<-aaa103
ccc103$`大學-女/男`<-as.numeric(ccc103$`大學-女/男`)#轉成數字型態
ccc103<-na.omit(ccc103)#刪除空紀錄
ratio103b<-ccc103[ccc103$`大學-女/男`>100,]#大學-女/男=101 代表 女:男=101:100,女生薪資大於男生1
ratio103b<-arrange(ratio103b,desc(`大學-女/男`))#照大到小排列,愈大表女生薪資比男生薪資大愈多
head(ratio103b$大職業別,10)#列出前10個
```

    ## character(0)

``` r
ccc104<-aaa104
ccc104$`大學-女/男`<-as.numeric(ccc104$`大學-女/男`)
ccc104<-na.omit(ccc104)
ratio104b<-ccc104[ccc104$`大學-女/男`>100,]
ratio104b<-arrange(ratio104b,desc(`大學-女/男`))
head(ratio104b$大職業別,10)
```

    ## [1] "專業、科學及技術服務業-技藝、機械設備操作及組裝人員"

``` r
ccc105<-aaa105
ccc105$`大學-女/男`<-as.numeric(ccc105$`大學-女/男`)
ccc105<-na.omit(ccc105)
ratio105b<-ccc105[ccc105$`大學-女/男`>100,]
ratio105b<-arrange(ratio105b,desc(`大學-女/男`))
head(ratio105b$大職業別,10)
```

    ## [1] "金融及保險業-專業人員"

``` r
ccc106<-aaa106
ccc106$`大學-女/男`<-as.numeric(ccc106$`大學-女/男`)
ccc106<-na.omit(ccc106)
ratio106b<-ccc106[ccc106$`大學-女/男`>100,]
ratio106b<-arrange(ratio106b,desc(`大學-女/男`))
head(ratio106b$大職業別,10)
```

    ## [1] "資訊及通訊傳播業-服務及銷售工作人員"

故女生薪資很少大於男生,103年還沒有任何職業符合的資料,是真的男女同工不同酬

研究所薪資差異
--------------

以106年度的資料來看，哪個職業別念研究所最划算呢 (研究所學歷薪資與大學學歷薪資增加比例最多)?

``` r
ddd106<-aaa106[,c(-2,-3)]
ddd106$研究大學比<-as.numeric(ddd106$`研究所及以上-薪資`)/as.numeric(ddd106$`大學-薪資`)
ddd106<-arrange(ddd106,desc(研究大學比))
head(ddd106$大職業別)
```

    ## [1] "礦業及土石採取業-事務支援人員"     
    ## [2] "專業_科學及技術服務業"             
    ## [3] "其他服務業-技術員及助理專業人員"   
    ## [4] "專業_科學及技術服務業-事務支援人員"
    ## [5] "批發及零售業"                      
    ## [6] "製造業"

礦業及土石採取業-事務支援人員

我有興趣的職業別薪資狀況分析
----------------------------

### 有興趣的職業別篩選，呈現薪資

``` r
eee106<-aaa106
eee106[eee106$大職業別=="資訊及通訊傳播業",c(1,4,6)]
```

    ## # A tibble: 1 x 3
    ##   大職業別         `大學-薪資` `研究所及以上-薪資`
    ##   <chr>            <chr>       <chr>              
    ## 1 資訊及通訊傳播業 29198       33944

### 這些職業別研究所薪資與大學薪資差多少呢？

資訊及通訊傳播業

``` r
pro<-as.numeric(eee106[eee106$大職業別=="資訊及通訊傳播業",6])
univisity<-as.numeric(eee106[eee106$大職業別=="資訊及通訊傳播業",4])
pro-univisity
```

    ## [1] 4746

研究所薪資比我想像中多很多,不過我還是不想念研究所,我怕我又耍廢,不如直接找工作
